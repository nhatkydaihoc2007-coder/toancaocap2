<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ƒê·ªÄ THI TH·ª¨ S·ªê 2</title>
<script>
// C·∫§U H√åNH MATHJAX CHU·∫®N
window.MathJax={
  tex:{
    inlineMath:[['$','$'],['\\(','\\)']],
    displayMath:[['$$','$$'],['\\[','\\]']],
    processEscapes:true,
    tags:'ams',
    packages:{'[+]':['noerrors','noundefined']}
  },
  options:{ignoreHtmlClass:'tex2jax_ignore',processHtmlClass:'tex2jax_process'},
  startup:{typeset:false}
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
<style>
:root{--primary:#6f42c1;--success:#28a745;--danger:#dc3545;--bg:#f4f6f9}body{font-family:'Segoe UI',Tahoma,sans-serif;background-color:var(--bg);margin:0;padding:20px;display:flex;justify-content:center;min-height:100vh;user-select:none}
#login-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#6f42c1 0%,#a06ee1 100%);display:flex;justify-content:center;align-items:center;z-index:9999}.login-box{background:white;padding:40px;border-radius:15px;box-shadow:0 10px 25px rgba(0,0,0,0.2);text-align:center;width:350px}.login-box input{width:100%;padding:12px;margin:15px 0;border:2px solid #ddd;border-radius:8px;font-size:16px;box-sizing:border-box}.login-btn{width:100%;padding:12px;background:#6f42c1;color:white;border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer}
#loading-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.9);z-index:10000;justify-content:center;align-items:center;flex-direction:column;font-size:1.5em;color:#6f42c1}
.main-layout{display:flex;gap:20px;width:100%;max-width:1200px;align-items:flex-start}
.quiz-container{flex:3;background:#fff;padding:30px;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.05);min-height:400px}
.nav-container{flex:1;background:#fff;padding:20px;border-radius:12px;position:sticky;top:20px;max-height:90vh;overflow-y:auto}
.timer-box{font-size:2em;font-weight:bold;text-align:center;margin-bottom:20px;color:#dc3545;border:2px solid #dc3545;padding:10px;border-radius:10px;background:#fff5f5}
.q-btn{width:40px;height:40px;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer;font-weight:bold;display:flex;align-items:center;justify-content:center}.q-btn.answered{background-color:var(--primary);color:white}.q-btn.active{border:3px solid #ffc107;transform:scale(1.15)}.q-btn.correct{background-color:var(--success)!important;color:white}.q-btn.wrong{background-color:var(--danger)!important;color:white}
.question-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(40px,1fr));gap:10px}
.question-content{font-size:1.2em;margin-bottom:25px;line-height:1.6;overflow-x:auto}
.option-label{display:flex;padding:15px;border:2px solid #eee;border-radius:10px;cursor:pointer;margin-bottom:15px;align-items:center;transition:0.2s}.option-label:hover{background-color:#f8f9fa}.option-label.selected{border-color:var(--primary);background-color:#e7f3fe}.option-label.is-correct{background-color:#d4edda;border-color:var(--success)}.option-label.is-wrong{background-color:#f8d7da;border-color:var(--danger)}
.explanation-box{margin-top:20px;padding:20px;background:#e2e6ea;border-radius:8px;display:none;border-left:5px solid #6f42c1;overflow-x:auto}
.btn-action{width:100%;padding:15px;border:none;border-radius:8px;font-size:1.1em;cursor:pointer;font-weight:bold;margin-top:20px;color:white;background:#6f42c1}.btn-submit{background-color:var(--success)}
.toggle-container{margin-bottom:20px;border-bottom:1px solid #eee;padding-bottom:15px;display:flex;align-items:center;justify-content:space-between}.switch{position:relative;display:inline-block;width:50px;height:26px}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider:before{position:absolute;content:"";height:20px;width:20px;left:4px;bottom:3px;background-color:white;transition:.4s;border-radius:50%}input:checked+.slider{background-color:#6f42c1}input:checked+.slider:before{transform:translateX(24px)}
@media(max-width:768px){.main-layout{flex-direction:column-reverse}.nav-container{width:100%;position:static}}
</style>
</head>
<body>
<div id="loading-overlay"><div>‚è≥ ƒêang t·∫£i ƒë·ªÅ thi...</div></div>
<div id="login-screen"><div class="login-box"><h2>üîí C·∫ßn M·∫≠t Kh·∫©u</h2><p>ƒê·ªÄ THI TH·ª¨ S·ªê 2</p><input type="password" id="password-input" placeholder="Nh·∫≠p m·∫≠t kh·∫©u..." onkeypress="if(event.key==='Enter')checkLogin()"><button class="login-btn" onclick="checkLogin()">V√†o L√†m B√†i</button><div id="login-error" style="color:red;margin-top:10px;display:none">Sai m·∫≠t kh·∫©u!</div></div></div>
<div class="main-layout" id="main-app" style="display:none">
<div class="quiz-container" id="quiz-container-div"><div id="quiz-area"><div style="display:flex;justify-content:space-between;margin-bottom:15px"><span style="background:#6f42c1;color:white;padding:5px 15px;border-radius:20px" id="q-number">C√¢u 1</span></div><div id="q-content" class="question-content tex2jax_process"></div><div id="options-area" class="tex2jax_process"></div><div id="explanation" class="explanation-box tex2jax_process"><strong>üí° L·ªùi gi·∫£i:</strong> <div id="explain-text"></div></div><div style="display:flex;gap:10px;margin-top:20px"><button class="btn-action" style="background:#6c757d;margin-top:0" onclick="prevQuestion()">‚¨Ö Tr∆∞·ªõc</button><button class="btn-action" style="background:#6f42c1;margin-top:0" onclick="nextQuestion()">Sau ‚û°</button></div></div><div id="result-area" style="text-align:center;display:none"><h2>üéâ K·∫øt th√∫c b√†i thi!</h2><div style="font-size:4em;color:#6f42c1;font-weight:bold" id="final-score">0/0</div><button class="btn-action" onclick="reviewMode()">üîç Xem l·∫°i b√†i</button><button class="btn-action" style="background:#6c757d" onclick="location.reload()">üîÑ L√†m l·∫°i</button></div></div>
<div class="nav-container"><div id="timer" class="timer-box">00:00</div><div class="toggle-container"><label class="switch"><input type="checkbox" id="practice-mode" onchange="togglePracticeMode()"><span class="slider"></span></label><span style="font-weight:bold;color:#555">Ch·∫ø ƒë·ªô Luy·ªán t·∫≠p</span></div><h3 style="text-align:center;margin:0 0 10px 0">Danh s√°ch c√¢u</h3><div class="question-grid" id="nav-grid"></div><button id="btn-finish" class="btn-action btn-submit" onclick="finishQuiz()">N·ªôp b√†i</button></div></div>
<script>
const CONFIG={pass:"2808",time:60};
const ENCODED_DATA="XGJlZ2lue2V4fQpL4bq/dCBxdeG6oyBj4bunYSBnaeG7m2kgaOG6oW4gJFxkaXNwbGF5c3R5bGUgXGxpbV97eCBcdG8gMjd9IFxkZnJhY3tcc3FydFszXXt4fS0zfXtcc3FydHt4fS1cc3FydHsyN319JCBsw6AKXGNob2ljZQp7JDAkfQp7JFxkZnJhY3syfXszfSR9CnskXGRmcmFjezF9ezN9JH0Ke1xUcnVlIEEsIEIsIEMgxJHhu4F1IHNhaX0KXGxvaWdpYWl7CsSQ4bq3dCAkeCA9IHReNiQuIEtoaSAkeCBcdG8gMjckIHRow6wgJHQgXHRvIFxzcXJ0WzZdezI3fSA9IFxzcXJ0ezN9JC4gXFwKR2nhu5tpIGjhuqFuIHRy4bufIHRow6BuaCAkXGRpc3BsYXlzdHlsZSBcbGltX3t0IFx0byBcc3FydHszfX0gXGRmcmFje3ReMiAtIDN9e3ReMyAtIFxzcXJ0ezI3fX0gPSBcbGltX3t0IFx0byBcc3FydHszfX0gXGRmcmFje3ReMiAtIFxsZWZ0KFxzcXJ0ezN9XHJpZ2h0KV4yfXt0XjMgLSBcbGVmdChcc3FydHszfVxyaWdodCleM30gPSBcbGltX3t0IFx0byBcc3FydHszfX0gXGRmcmFje1xsZWZ0KHQtXHNxcnR7M31ccmlnaHQpXGxlZnQodCtcc3FydHszfVxyaWdodCl9e1xsZWZ0KHQtXHNxcnR7M31ccmlnaHQpXGxlZnQodF4yK3Rcc3FydHszfSszXHJpZ2h0KX0gPSBcbGltX3t0IFx0byBcc3FydHszfX0gXGRmcmFje3QrXHNxcnR7M319e3ReMit0XHNxcnR7M30rM30gXFwKPVxkZnJhY3tcc3FydHszfStcc3FydHszfX17XGxlZnQoXHNxcnR7M31ccmlnaHQpXjIrXHNxcnR7M31cY2RvdFxzcXJ0ezN9KzN9ID0gXGRmcmFjezJcc3FydHszfX17OX0kLgp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9Ckvhur90IHF14bqjIGPhu6dhIGdp4bubaSBo4bqhbiAkXGRpc3BsYXlzdHlsZSBcbGltX3t4IFx0byBcaW5mdHl9IFxsZWZ0KFxkZnJhY3t4KzF9e3gtMn1ccmlnaHQpXiB7XGZyYWN7eH17MngrMX19JCBsw6AKXGNob2ljZQp7JGUkfQp7JGVeezEvMn0kfQp7JGVeey0xfSR9CntcVHJ1ZSBBLCBCLCBDIMSR4buBdSBzYWl9Clxsb2lnaWFpewokXGRpc3BsYXlzdHlsZSBcbGltX3t4IFx0byBcaW5mdHl9IFxsZWZ0KFxkZnJhY3t4KzF9e3gtMn1ccmlnaHQpXntcZnJhY3t4fXsyeCsxfX0gPSAxXnsxLzJ9PTEkCn0KXGVuZHtleH0KClxiZWdpbntleH0KQ2hvIGjDoG0gc+G7kSAkZih4KSA9IFxiZWdpbntjYXNlc30gCmF4XjItM3grMSwgJiB4PDEgXFwgCjJ4K2IsICYgeCBcZ2UgMSAKXGVuZHtjYXNlc30kLiBO4bq/dSBow6BtIHPhu5EgbGnDqm4gdOG7pWMgdOG6oWkgJHg9MSQgdGjDrCAkYS1iJCBi4bqxbmcKXGNob2ljZQp7JDAkfQp7JDEkfQp7JDIkfQp7XFRydWUgQSwgQiwgQyDEkeG7gXUgc2FpfQpcbG9pZ2lhaXsKxJDhu4MgaMOgbSBz4buRICRmKHgpJCBsacOqbiB04bulYyB04bqhaSAkeD0xJCwgdGEgY+G6p24gY8OzICRcZGlzcGxheXN0eWxlIFxsaW1fe3ggXHRvIDFeLX0gZih4KSA9IFxsaW1fe3ggXHRvIDFeK30gZih4KSA9IGYoMSkkLiBcXApUw61uaCBjw6FjIGdpw6EgdHLhu4s6IAokJFxkaXNwbGF5c3R5bGUgZigxKSA9IDIrYiwgXGxpbV97eCBcdG8gMV4tfSBmKHgpID0gXGxpbV97eCBcdG8gMV4tfSBcbGVmdChheF4yLTN4KzFccmlnaHQpID1hLTIsIFxsaW1fe3ggXHRvIDFeK30gZih4KSA9IFxsaW1fe3ggXHRvIDFeK30gXGxlZnQoMngrYlxyaWdodCkgPSAyK2IkJArEkOG7gyBow6BtIHPhu5EgbGnDqm4gdOG7pWMsIHRhIHBo4bqjaSBjw7MgJGEtMiA9IDIrYiQuClThu6sgxJHDsyBzdXkgcmEgJGEtYiA9IDQkLgp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9ClTDrG0gJGEkIMSR4buDIGjDoG0gc+G7kSAkZih4KSA9IFxiZWdpbntjYXNlc30gXGRmcmFje1xzaW4geH17eH0sICYgeCBcbmUgMCBcXCBhLCAmIHggPSAwIFxlbmR7Y2FzZXN9JCBsacOqbiB04bulYyB04bqhaSAkeD0wJD8KXGNob2ljZQp7JGE9MCR9CntcVHJ1ZSAkYT0xJH0KeyRhPS0xJH0Ke0EsIEIsIEMgxJHhu4F1IHNhaX0KXGxvaWdpYWl7CsSQ4buDIGjDoG0gc+G7kSAkZih4KSQgbGnDqm4gdOG7pWMgdOG6oWkgJHg9MCQsIHRhIGPhuqduIGPDsyAkXGRpc3BsYXlzdHlsZSBcbGltX3t4IFx0byAwfSBmKHgpID0gZigwKT1hJC4gXFwKVGEgdMOtbmggZ2nhu5tpIGjhuqFuIGPhu6dhICRmKHgpJCBraGkgJHggXHRvIDAkOgokXGRpc3BsYXlzdHlsZSBcbGltX3t4IFx0byAwfSBmKHgpID0gXGxpbV97eCBcdG8gMH0gXGRmcmFje1xzaW4geH17eH0gPTEkLiBcXArEkOG7gyBow6BtIHPhu5EgbGnDqm4gdOG7pWMgdOG6oWkgJHg9MCQsIHRhIHBo4bqjaSBjw7MgJGE9MSQuCn0KXGVuZHtleH0KClxiZWdpbntleH0KSMOgbSBz4buRICRmKHgpID0gfHh8ICsgeF4yJCBjw7MgJGYnKDApJCBsw6AKXGNob2ljZQp7MX0KeyQtMSR9CnswfQp7XFRydWUgS2jDtG5nIHThu5NuIHThuqFpfQpcbG9pZ2lhaXsKVGEgeMOpdCDEkeG6oW8gaMOgbSB0csOhaSB2w6AgxJHhuqFvIGjDoG0gcGjhuqNpIHThuqFpICR4PTAkLgpW4bubaSAkeCA+IDAkLCAkZih4KSA9IHggKyB4XjIkLCBzdXkgcmEgJGYnKHgpID0gMSArIDJ4JC4gXFwKxJDhuqFvIGjDoG0gcGjhuqNpIHThuqFpICR4PTAkIGzDoCAkXGRpc3BsYXlzdHlsZSBmJygwXispID0gXGxpbV97eCBcdG8gMF4rfSAoMSArIDJ4KSA9IDEkLiBcXApW4bubaSAkeCA8IDAkLCAkZih4KSA9IC14ICsgeF4yJCwgc3V5IHJhICRmJyh4KSA9IC0xICsgMngkLiBcXArEkOG6oW8gaMOgbSB0csOhaSB04bqhaSAkeD0wJCBsw6AgJFxkaXNwbGF5c3R5bGUgZicoMF4tKSA9IFxsaW1fe3ggXHRvIDBeLX0gKC0xICsgMngpID0gLTEkLgpWw6wgJGYnKDBeKykgXG5lcSBmJygwXi0pJCwgbsOqbiAkZicoMCkkIGtow7RuZyB04buTbiB04bqhaS4gCn0KXGVuZHtleH0KClxiZWdpbntleH0KS2hhaSB0cmnhu4NuIE1hY2xhdXJpbiBj4bunYSBow6BtIHPhu5EgJGYoeCkgPSBcbG4oMSt4KSQgxJHhur9uIGLhuq1jIDMgbMOgClxjaG9pY2UKe1xUcnVlICR4IC0gXGRmcmFje3heMn17Mn0gKyBcZGZyYWN7eF4zfXszfSArIE8oeF4zKSR9CnskeCAtIFxkZnJhY3t4XjJ9ezJ9ICsgXGRmcmFje3heM317M30gKyBPKHheNCkkfQp7JDEgKyB4IC0gXGRmcmFje3heMn17Mn0gKyBPKHheMykkfQp7QSwgQiwgQyDEkeG7gXUgc2FpfQpcbG9pZ2lhaXsKS2hhaSB0cmnhu4NuIE1hY2xhdXJpbiBj4bunYSBow6BtIHPhu5EgJFxsbigxK3gpJCBsw6AgJFxsbigxK3gpID0geCAtIFxkZnJhY3t4XjJ9ezJ9ICsgXGRmcmFje3heM317M30gK08oeF4zKSQKfQpcZW5ke2V4fQoKXGJlZ2lue2V4fQpIw6BtIHPhu5EgJHkgPSBcZGZyYWN7MngrMX17eC0xfSQgY8OzIGPDoWMga2hv4bqjbmcgxJHGoW4gxJFp4buHdSBsw6AKXGNob2ljZQp7VMSDbmcgdHLDqm4gJCgtXGluZnR5LCAxKSQgdsOgICQoMSwgK1xpbmZ0eSkkfQp7XFRydWUgR2nhuqNtIHRyw6puICQoLVxpbmZ0eSwgMSkkIHbDoCAkKDEsICtcaW5mdHkpJH0Ke1TEg25nIHRyw6puICQoLVxpbmZ0eSwgK1xpbmZ0eSkkfQp7R2nhuqNtIHRyw6puICQoLVxpbmZ0eSwgK1xpbmZ0eSkkfQpcbG9pZ2lhaXsKVOG6rXAgeMOhYyDEkeG7i25oIGPhu6dhIGjDoG0gc+G7kSBsw6AgJEQgPSBcbWF0aGJie1J9IFxzZXRtaW51cyBcbGVmdFx7MVxyaWdodFx9JC4gXFwKVGEgdMOtbmggxJHhuqFvIGjDoG0gY+G7p2EgaMOgbSBz4buROgokeScgPSBcZGZyYWN7KDJ4KzEpJyh4LTEpIC0gKDJ4KzEpKHgtMSknfXtcbGVmdCh4LTFccmlnaHQpXjJ9ID0gXGRmcmFjezIoeC0xKSAtICgyeCsxKX17XGxlZnQoeC0xXHJpZ2h0KV4yfSA9IFxkZnJhY3stM317XGxlZnQoeC0xXHJpZ2h0KV4yfSQgXFwKVsOsICR5JyA9IFxkZnJhY3stM317XGxlZnQoeC0xXHJpZ2h0KV4yfSA8IDAkIHbhu5tpIG3hu41pICR4IFxpbiBEJCwgbsOqbiBow6BtIHPhu5Egbmdo4buLY2ggYmnhur9uIHRyw6puIGPDoWMga2hv4bqjbmcgJCgtXGluZnR5LCAxKSQgdsOgICQoMSwgK1xpbmZ0eSkkCn0KXGVuZHtleH0KClxiZWdpbntleH0KVMOsbSBnacOhIHRy4buLIGzhu5tuIG5o4bqldCwgbmjhu48gbmjhuqV0IGPhu6dhICRmKHgpID0geF4zIC0gNnheMiArIDl4JCB0csOqbiDEkW/huqFuICRbMCw0XSQKXGNob2ljZQp7TOG7m24gbmjhuqV0IHThuqFpICR4PTEkLCBuaOG7jyBuaOG6pXQgdOG6oWkgJHg9MyR9CntM4bubbiBuaOG6pXQgdOG6oWkgJHg9NCQsIG5o4buPIG5o4bqldCB04bqhaSAkeD0yJH0Ke0zhu5tuIG5o4bqldCB04bqhaSAkeD0yJCwgbmjhu48gbmjhuqV0IHThuqFpICR4PTAkfQp7XFRydWUgTOG7m24gbmjhuqV0IHThuqFpICR4PTQkLCBuaOG7jyBuaOG6pXQgdOG6oWkgJHg9MCR9Clxsb2lnaWFpewpIw6BtIHPhu5EgJGYoeCkgPSB4XjMgLSA2eF4yICsgOXgkIGxpw6puIHThu6VjIHRyw6puIMSRb+G6oW4gJFswLDRdJC4gXFwKVGEgdMOtbmggxJHhuqFvIGjDoG06ICRmJyh4KSA9IDN4XjIgLSAxMnggKyA5ID0gMCBcaWZmIHg9MSBcdmVlIHg9MyQuIEPhuqMgaGFpIG5naGnhu4dtIG7DoHkgxJHhu4F1IHRodeG7mWMgxJFv4bqhbiAkWzAsNF0kLiBcXApUYSB0w61uaCBnacOhIHRy4buLIGPhu6dhIGjDoG0gc+G7kSB04bqhaSBjw6FjIMSRaeG7g20gJHg9MCwgeD0xLCB4PTMsIHg9NCQ6IAokZigwKSA9IDAsIGYoMSkgPSA0LCBmKDMpPSAwLCBmKDQpPSA0JC4gXFwKU28gc8OhbmggY8OhYyBnacOhIHRy4buLLCB0YSB0aOG6pXk6Ckdpw6EgdHLhu4sgbOG7m24gbmjhuqV0IGPhu6dhIGjDoG0gc+G7kSB0csOqbiDEkW/huqFuICRbMCw0XSQgbMOgICQ0JCwgxJHhuqF0IMSRxrDhu6NjIHThuqFpICR4PTEkIHbDoCAkeD00JC4gXFwKR2nDoSB0cuG7iyBuaOG7jyBuaOG6pXQgY+G7p2EgaMOgbSBz4buRIHRyw6puIMSRb+G6oW4gJFswLDRdJCBsw6AgJDAkLCDEkeG6oXQgxJHGsOG7o2MgdOG6oWkgJHg9MCQgdsOgICR4PTMkLgp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9CkNobyBow6BtIGPhuqd1ICRQID0gMTIwIC0gMlEkIHbDoCBow6BtIGNoaSBwaMOtICRDKFEpID0gUV4yICsgMjBRICsgNTAkLiBUw6xtIG3hu6ljIHPhuqNuIGzGsOG7o25nICRRJCDEkeG7gyBs4bujaSBuaHXhuq1uIMSR4bqhdCB04buRaSDEkWEKXGNob2ljZQp7JFEgPSAyMCR9CnskUSA9IDI1JH0KeyRRID0gMzAkfQp7XFRydWUgQSwgQiwgQyDEkeG7gXUgc2FpfQpcbG9pZ2lhaXsKSMOgbSBs4bujaSBuaHXhuq1uIGzDoCAkXHBpKFEpID0gUFEgLSBDKFEpID0gXGxlZnQoMTIwIC0gMlFccmlnaHQpUSAtIFxsZWZ0KFFeMiArIDIwUSArIDUwIFxyaWdodCk9IC0zUV4yICsgMTAwUSAtIDUwJC4gXFwKJFxwaScoUSkgPSAtNlEgKyAxMDA9MCBcaWZmIDZRID0gMTAwIFxpZmYgUSA9IFxkZnJhY3sxMDB9ezZ9ID0gXGRmcmFjezUwfXszfSQgXFwKS2nhu4NtIHRyYSDEkeG6oW8gaMOgbSBi4bqtYyBoYWk6ICRccGknJyhRKSA9IC02IDwgMCQsIG7Dqm4gxJHDonkgbMOgIMSRaeG7g20gY+G7sWMgxJHhuqFpLgp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9Ckdp4bqjIHPhu60gaMOgbSBj4bqndSAkUSA9IDEyIC0gM1AkLiBLaGkgJFAgPSAyJCwgaOG7hyBz4buRIGNvIGdpw6NuIGPhu6dhIGPhuqd1IHRoZW8gZ2nDoSBsw6AKXGNob2ljZQp7JC0yJH0Ke1xUcnVlICQtMSR9CnskLVxkZnJhY3sxfXsyfSR9CntBLCBCLCBDIMSR4buBdSBzYWl9Clxsb2lnaWFpCnsKSMOgbSBj4bqndSBsw6AgJFEgPSAxMiAtIDNQJC4KxJDhuqFvIGjDoG0gY+G7p2EgJFEkIHRoZW8gJFAkIGzDoCAkXGRmcmFje2RRfXtkUH0gPSAtMyQuCktoaSAkUCA9IDIkLCBnacOhIHRy4buLIGPhu6dhICRRJCBsw6AgJFEgPSA2JC4gXFwKSOG7hyBz4buRIGNvIGdpw6NuIGPhu6dhIGPhuqd1IHRoZW8gZ2nDoSAkRV9kID0gXGRmcmFje2RRfXtkUH0gXGNkb3QgXGRmcmFje1B9e1F9PSBcbGVmdCgtM1xyaWdodCkgXGNkb3QgXGRmcmFjezJ9ezZ9ID0gXGxlZnQoLTNccmlnaHQpIFxjZG90IFxkZnJhY3sxfXszfSA9IC0xJC4KfQpcZW5ke2V4fQoKXGJlZ2lue2V4fQpYw6l0IGhhaSB0w61jaCBwaMOibiBzdXkgcuG7mW5nOiAoMSkgJFxkaXNwbGF5c3R5bGUgXGludF97MX1eeytcaW5mdHl9IFxkZnJhY3sxfXt4XjJ9ZHgkLCAoMikgJFxkaXNwbGF5c3R5bGUgXGludF97MX1eeytcaW5mdHl9IFxkZnJhY3sxfXtcc3FydHt4fX1keCQuIEvhur90IGx14bqtbiDEkcO6bmcgbMOgClxjaG9pY2UKe1xUcnVlICgxKSBo4buZaSB04bulLCAoMikgcGjDom4ga8OsfQp7KDEpIHBow6JuIGvDrCwgKDIpIGjhu5lpIHThu6V9CntD4bqjIGhhaSBjw7luZyBo4buZaSB04bulfQp7Q+G6oyBoYWkgY8O5bmcgcGjDom4ga8OsfQpcbG9pZ2lhaXsKxJDhu5FpIHbhu5tpIHTDrWNoIHBow6JuIHN1eSBy4buZbmcgZOG6oW5nICRcZGlzcGxheXN0eWxlIFxpbnRfe2F9XnsrXGluZnR5fSBcZGZyYWN7MX17eF5wfWR4JDogXFwKLSBUw61jaCBwaMOibiBo4buZaSB04bulIG7hur91ICRwID4gMSQuIFxcCi0gVMOtY2ggcGjDom4gcGjDom4ga8OsIG7hur91ICRwIFxsZSAxJC4gXFwKWMOpdCB0w61jaCBwaMOibiAoMSk6ICRcZGlzcGxheXN0eWxlIFxpbnRfezF9XnsrXGluZnR5fSBcZGZyYWN7MX17eF4yfWR4JC4K4bueIMSRw6J5LCAkcCA9IDIgPiAxJCwgdMOtY2ggcGjDom4gKDEpIGjhu5lpIHThu6UuIFxcCljDqXQgdMOtY2ggcGjDom4gKDIpOiAkXGRpc3BsYXlzdHlsZSBcaW50X3sxfV57K1xpbmZ0eX0gXGRmcmFjezF9e1xzcXJ0e3h9fWR4ID0gXGRpc3BsYXlzdHlsZSBcaW50X3sxfV57K1xpbmZ0eX0gXGRmcmFjezF9e3heezEvMn19ZHgkLgrhu54gxJHDonksICRwID0gXGRmcmFjezF9ezJ9IFxsZSAxJCwgdMOtY2ggcGjDom4gKDIpIHBow6JuIGvDrC4KfQpcZW5ke2V4fQoKXGJlZ2lue2V4fQpHacOhIHRy4buLIGPhu6dhIHTDrWNoIHBow6JuICRcZGlzcGxheXN0eWxlIFxpbnRfezB9XnsrXGluZnR5fSBlXnstMnh9ZHgkIGzDoApcY2hvaWNlCntcVHJ1ZSAkXGRmcmFjezF9ezJ9JH0KeyQxJH0KeyQyJH0Ke0EsIEIsIEMgxJHhu4F1IHNhaX0KXGxvaWdpYWl7CiRcZGlzcGxheXN0eWxlIFxpbnRfezB9XnsrXGluZnR5fSBlXnstMnh9ZHggPSBcbGltX3tiIFx0byArXGluZnR5fSBcZGlzcGxheXN0eWxlIFxpbnRfezB9XntifSBlXnstMnh9ZHggPSBcbGltX3tiIFx0byArXGluZnR5fSBcbGVmdCggLVxkZnJhY3sxfXsyfWVeey0yeH0gXHJpZ2h0KSBcQmlnfF97MH1ee2J9IAo9IFxsaW1fe2IgXHRvICtcaW5mdHl9IFxsZWZ0KCAtXGRmcmFjezF9ezJ9ZV57LTJifSAtIFxsZWZ0KC1cZGZyYWN7MX17Mn1lXnstMlxsZWZ0KDBccmlnaHQpfVxyaWdodCkgXHJpZ2h0KSBcXAo9IFxsaW1fe2IgXHRvICtcaW5mdHl9IFxsZWZ0KCAtXGRmcmFjezF9ezJ9ZV57LTJifSArIFxkZnJhY3sxfXsyfWVeezB9IFxyaWdodCkgPSBcbGltX3tiIFx0byArXGluZnR5fSBcbGVmdCggLVxkZnJhY3sxfXsyfWVeey0yYn0gKyBcZGZyYWN7MX17Mn0gXHJpZ2h0KSQgXFwKS2hpICRiIFx0byArXGluZnR5JCwgJGVeey0yYn0gXHRvIDAkLgpW4bqteSwgZ2nDoSB0cuG7iyBj4bunYSB0w61jaCBwaMOibiBsw6AgJDAgKyBcZGZyYWN7MX17Mn0gPSBcZGZyYWN7MX17Mn0kLgp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9CkNobyAkZih4LHkpID0geF4yeSArIHleMiQuIFTDrW5oICRkZigxLDEpJApcY2hvaWNlCntcVHJ1ZSAkKDJkeCszZHkpJH0KeyQoMmR4KzJkeSkkfQp7JChkeCsyZHkpJH0Ke0EsIEIsIEMgxJHhu4F1IHNhaX0KXGxvaWdpYWl7ClTDrW5oIGPDoWMgxJHhuqFvIGjDoG0gcmnDqm5nOgokXGRmcmFje1xwYXJ0aWFsIGZ9e1xwYXJ0aWFsIHh9ID0gMnh5OyBccXVhZCBcZGZyYWN7XHBhcnRpYWwgZn17XHBhcnRpYWwgeX0gPSB4XjIgKyAyeSQgXFwKVOG6oWkgxJFp4buDbSAkKDEsMSkkOgokXGRmcmFje1xwYXJ0aWFsIGZ9e1xwYXJ0aWFsIHh9KDEsMSkgPSAyICwgXHF1YWQgXGRmcmFje1xwYXJ0aWFsIGZ9e1xwYXJ0aWFsIHl9KDEsMSkgPSAzJCBcXApWaSBwaMOibiB0b8OgbiBwaOG6p24gY+G7p2EgaMOgbSAkZiQgdOG6oWkgJCgxLDEpJCBsw6A6CiRkZigxLDEpID0gXGRmcmFje1xwYXJ0aWFsIGZ9e1xwYXJ0aWFsIHh9KDEsMSlkeCArIFxkZnJhY3tccGFydGlhbCBmfXtccGFydGlhbCB5fSgxLDEpZHkgPSAyZHggKyAzZHkkCn0KXGVuZHtleH0KClxiZWdpbntleH0KSMOgbSBoYWkgYmnhur9uICR6ID0geF4yeSArIHh5XjIkIHRo4buPYSBtw6NuIGjhu4cgdGjhu6ljClxjaG9pY2UKe1xUcnVlICR4el94ICsgeXpfeSA9IDN6JH0KeyR4el94ICsgeXpfeSA9IDJ6JH0KeyR4el94ICsgeXpfeSA9IHokfQp7QSwgQiwgQyDEkeG7gXUgc2FpfQpcbG9pZ2lhaXsKVMOtbmggY8OhYyDEkeG6oW8gaMOgbSByacOqbmc6CiR6X3ggPSBcZGZyYWN7XHBhcnRpYWwgen17XHBhcnRpYWwgeH0gPSAyeHkgKyB5XjI7IFxxdWFkIHpfeSA9IFxkZnJhY3tccGFydGlhbCB6fXtccGFydGlhbCB5fSA9IHheMiArIDJ4eSQuIFxcClTDrW5oICR4el94ICsgeXpfeSQ6IFxcCiR4el94ID0geFxsZWZ0KDJ4eSArIHleMlxyaWdodCkgPSAyeF4yeSArIHh5XjI7IFxxdWFkIHl6X3kgPSB5XGxlZnQoeF4yICsgMnh5XHJpZ2h0KSA9IHheMnkgKyAyeHleMiQgXFwKQ+G7mW5nIGhhaSBiaeG7g3UgdGjhu6ljIHRyw6puOgokeHpfeCArIHl6X3kgPSBcbGVmdCgyeF4yeSArIHh5XjJccmlnaHQpICsgXGxlZnQoeF4yeSArIDJ4eV4yXHJpZ2h0KSA9IDN4XjJ5ICsgM3h5XjIgPSAzXGxlZnQoeF4yeSArIHh5XjJccmlnaHQpID0gM3okCn0KXGVuZHtleH0KClxiZWdpbntleH0KQ2hvICR1ID0geF4yICsgeV4yJCwgduG7m2kgJHggPSBzK3QkLCAkeSA9IHMtdCQuIFTDrW5oICRcZGZyYWN7XHBhcnRpYWwgdX17XHBhcnRpYWwgc30kClxjaG9pY2UKe1xUcnVlICQ0cyR9CnskMnMkfQp7JDQocyt0KSR9CntBLCBCLCBDIMSR4buBdSBzYWl9Clxsb2lnaWFpewrDgXAgZOG7pW5nIHF1eSB04bqvYyDEkeG6oW8gaMOgbSBjaHXhu5dpOgokXGRmcmFje1xwYXJ0aWFsIHV9e1xwYXJ0aWFsIHN9ID0gXGRmcmFje1xwYXJ0aWFsIHV9e1xwYXJ0aWFsIHh9IFxkZnJhY3tccGFydGlhbCB4fXtccGFydGlhbCBzfSArIFxkZnJhY3tccGFydGlhbCB1fXtccGFydGlhbCB5fSBcZGZyYWN7XHBhcnRpYWwgeX17XHBhcnRpYWwgc30kIFxcClTDrW5oIGPDoWMgxJHhuqFvIGjDoG0gcmnDqm5nOgokXGRmcmFje1xwYXJ0aWFsIHV9e1xwYXJ0aWFsIHh9ID0gMng7IFxxdWFkIFxkZnJhY3tccGFydGlhbCB1fXtccGFydGlhbCB5fSA9IDJ5LCBccXVhZCBcZGZyYWN7XHBhcnRpYWwgeH17XHBhcnRpYWwgc30gPSAxLCBccXVhZCBcZGZyYWN7XHBhcnRpYWwgeX17XHBhcnRpYWwgc30gPSAxJCBcXApUaGF5IHbDoG8gY8O0bmcgdGjhu6ljIMSR4bqhbyBow6BtIGNodeG7l2k6CiQkXGRmcmFje1xwYXJ0aWFsIHV9e1xwYXJ0aWFsIHN9ID0gMnggKyAyeSA9IDIocyt0KSArIDIocy10KSA9IDJzICsgMnQgKyAycyAtIDJ0ID0gNHMkJAp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9CsSQ4bqhbyBow6BtICR5JyQgY+G7p2EgaMOgbSDhuqluIHjDoWMgxJHhu4tuaCBi4bufaSBwaMawxqFuZyB0csOsbmggJHheMiArIHleMiA9IDEkIGzDoApcY2hvaWNlCntcVHJ1ZSAkeScgPSAtXGRmcmFje3h9e3l9JH0KeyR5JyA9IFxkZnJhY3t4fXt5fSR9CnskeScgPSAtXGRmcmFje3l9e3h9JH0Ke0EsIEIsIEMgxJHhu4F1IHNhaX0KXGxvaWdpYWl7CsSQ4bq3dCAkRih4LHkpID0geF4yK3leMi0xPTAkLiBUYSBjw7MgClxbeScgPSAtXGRmcmFje0YnX3h9e0YnX3l9ID0gLVxkZnJhY3syeH17Mnl9ID0tXGRmcmFje3h9e3l9IFxdCn0KXGVuZHtleH0KClxiZWdpbntleH0KVMOsbSBj4buxYyB0cuG7iyBj4bunYSAkZih4LCB5KSA9IHheMiArIHleMiAtIDJ4IC0gNHkkClxjaG9pY2UKe1xUcnVlICRmJCDEkeG6oXQgY+G7sWMgdGnhu4N1IHThuqFpICQoMSwyKSR9CnskZiQgxJHhuqF0IGPhu7FjIMSR4bqhaSB04bqhaSAkKDEsMikkfQp7JGYkIGtow7RuZyBjw7MgY+G7sWMgdHLhu4t9CnskZiQgxJHhuqF0IGPhu7FjIHRp4buDdSB04bqhaSAkKDIsMSkkfQpcbG9pZ2lhaXsKXHRleHRiZntDMS59IFTDrG0gxJFp4buDbSBk4burbmc6ClxbXGJlZ2lue2Nhc2VzfQpcZGZyYWN7XHBhcnRpYWwgZn17XHBhcnRpYWwgeH0gPSAyeCAtIDI9MCBcXApcZGZyYWN7XHBhcnRpYWwgZn17XHBhcnRpYWwgeX0gPSAyeSAtIDQ9MCAKXGVuZHtjYXNlc30gXGlmZiBcYmVnaW57Y2FzZXN9CnggPSAxIFxcCnkgPSAyClxlbmR7Y2FzZXN9IFxdClbhuq15IMSRaeG7g20gZOG7q25nIGzDoCAkKDEsMikkLiBcXApUaeG6v3AgdGhlbywgdGEgdMOsbSBjw6FjIMSR4bqhbyBow6BtIHJpw6puZyBj4bqlcCBoYWk6CiRcZGZyYWN7XHBhcnRpYWxeMiBmfXtccGFydGlhbCB4XjJ9ID0gMiwgXHF1YWQgXGRmcmFje1xwYXJ0aWFsXjIgZn17XHBhcnRpYWwgeV4yfSA9IDIsIFxxdWFkIFxkZnJhY3tccGFydGlhbF4yIGZ9e1xwYXJ0aWFsIHggXHBhcnRpYWwgeX0gPSAwJC4gXFwKVMOtbmggxJHhu4tuaCB0aOG7qWMgJFxEZWx0YSQ6CiRcRGVsdGEgPSBcZGZyYWN7XHBhcnRpYWxeMiBmfXtccGFydGlhbCB4XjJ9IFxjZG90IFxkZnJhY3tccGFydGlhbF4yIGZ9e1xwYXJ0aWFsIHleMn0gLSBcbGVmdChcZGZyYWN7XHBhcnRpYWxeMiBmfXtccGFydGlhbCB4IFxwYXJ0aWFsIHl9XHJpZ2h0KV4yID0gMiBcY2RvdCAyIC0gMF4yID0gNCQgXFwKVsOsICRcRGVsdGEgPSA0ID4gMCQgdsOgICRcZGZyYWN7XHBhcnRpYWxeMiBmfXtccGFydGlhbCB4XjJ9ID0gMiA+IDAkLCBow6BtIHPhu5EgxJHhuqF0IGPhu7FjIHRp4buDdSB04bqhaSDEkWnhu4NtICQoMSwyKSQuIFxcClx0ZXh0YmZ7QzIufSBUYSBjw7MgJGYoeCx5KT0geF4yLTJ4KzEreV4yLTR5KzQtNT0gKHgtMSleMisoeS0yKV4yLTUgXGdlIC01JC4gXFwKROG6pXUgJCI9IiQgeOG6o3kgcmEgJFxpZmYgeD0xLCB5PTIkLgp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9ClThu5FpIMawdSBow6BtICRmKHgsIHkpID0gM3ggKyA0eSQgduG7m2kgxJFp4buBdSBraeG7h24gJHheMiArIHleMiA9IDI1JC4gxJBp4buDbSAkKDMsNCkkIGzDoApcY2hvaWNlCntcVHJ1ZSDEkGnhu4NtIGPhu7FjIMSR4bqhaX0Ke8SQaeG7g20gY+G7sWMgdGnhu4N1fQp7S2jDtG5nIHBo4bqjaSDEkWnhu4NtIGPhu7FjIHRy4buLfQp7S2jDtG5nIHRo4buPYSDEkWnhu4F1IGtp4buHbn0KXGxvaWdpYWl7Clx0ZXh0YmZ7QzEufSBT4butIGThu6VuZyBwaMawxqFuZyBwaMOhcCBuaMOibiB04butIExhZ3JhbmdlLiBIw6BtIExhZ3JhbmdlIGzDoDoKJCRMKHgsIHksIFxsYW1iZGEpID0gM3ggKyA0eSArIFxsYW1iZGFcbGVmdCh4XjIgKyB5XjIgLSAyNVxyaWdodCkkJApUw6xtIMSRaeG7g20gZOG7q25nIApcW1xiZWdpbntjYXNlc30KTCdfeCA9IDMgKyAyXGxhbWJkYSB4ID0gMCBcXApMJ195ID0gNCArIDJcbGFtYmRhIHkgPSAwIFxcCkwnX1xsYW1iZGEgPSB4XjIreV4yLTI1PTAKXGVuZHtjYXNlc30gXGlmZiBcYmVnaW57Y2FzZXN9CnggPSAtXGRmcmFjezN9ezJcbGFtYmRhfSBcXAp5ID0gLVxkZnJhY3s0fXsyXGxhbWJkYX0gXFwgCnheMit5XjI9MjUKXGVuZHtjYXNlc30gXF0KXHRleHRiZntUcsaw4budbmcgaOG7o3AgMS59ICRcbGFtYmRhID0gXGRmcmFjezF9ezJ9LCB4ID0gLSAzLCB5ID0gLSA0JC4gCsSQaeG7g20gZOG7q25nIGzDoCAkKC0zLC00KSQuIEdpw6EgdHLhu4sgaMOgbSBz4buRICRmKC0zLC00KSA9IC0yNSQgXFwKXHRleHRiZntUcsaw4budbmcgaOG7o3AgMi59ICRcbGFtYmRhID0gLVxkZnJhY3sxfXsyfSwgeCA9IDMsIHkgPSA0JC4KxJBp4buDbSBk4burbmcgbMOgICQoMyw0KSQuIEdpw6EgdHLhu4sgaMOgbSBz4buRICRmKDMsNCkgPSAyNSQuICBcXApWw6wgdOG6rXAgaOG7o3AgcsOgbmcgYnXhu5ljICR4XjIgKyB5XjIgPSAyNSQgbMOgIG3hu5l0IMSRxrDhu51uZyB0csOybiAodOG6rXAgaOG7o3AgxJHDs25nIHbDoCBi4buLIGNo4bq3biksIGjDoG0gc+G7kSBsacOqbiB04bulYyB0csOqbiB04bqtcCBuw6B5IHPhur0gxJHhuqF0IGPhu7FjIMSR4bqhaSB2w6AgY+G7sWMgdGnhu4N1LiAKR2nDoSB0cuG7iyBs4bubbiBuaOG6pXQgY+G7p2EgJGYoeCx5KSQgbMOgICQyNSQgdOG6oWkgJCgzLDQpJC4KR2nDoSB0cuG7iyBuaOG7jyBuaOG6pXQgY+G7p2EgJGYoeCx5KSQgbMOgICQtMjUkIHThuqFpICQoLTMsLTQpJC4KVuG6rXkgxJFp4buDbSAkKDMsNCkkIGzDoCDEkWnhu4NtIGPhu7FjIMSR4bqhaS4gXFwgClx0ZXh0YmZ7QzIufSBcYmVnaW57YWxpZ24qfQp8M3grNHl8IFxsZSBcc3FydHsgXGxlZnQoM14yKzReMiBccmlnaHQpIFxsZWZ0KCB4XjIreV4yIFxyaWdodCl9ICA9XHNxcnR7NV4yIFxjZG90IDI1fT0yNSAKXGVuZHthbGlnbip9CkThuqV1IOKAnD3igJ0geOG6o3kgcmEgJFxkaXNwbGF5c3R5bGUgXExlZnRyaWdodGFycm93IFxmcmFje3h9ezN9PVxmcmFje3l9ezR9IFxMZWZ0cmlnaHRhcnJvdyB5PVxmcmFjezR9ezN9eCQuIFRoYXkgdsOgbyAkeF4yK3leMj0yNSQgdGEgxJHGsOG7o2MgClxiZWdpbnthbGlnbip9CiYgeF4yK1xsZWZ0KCBcZnJhY3s0fXszfXggXHJpZ2h0KV57Mn09IDI1IFxMZWZ0cmlnaHRhcnJvdyB4XjIrXGZyYWN7MTZ9ezl9e3h9XnsyfT0yNSBcTGVmdHJpZ2h0YXJyb3cgXGZyYWN7MjV9ezl9e3t4fV57Mn19PTI1IFxcIAogJiBcTGVmdHJpZ2h0YXJyb3cgeF4yPTkgXExlZnRyaWdodGFycm93IHg9XHBtIDMgXFJpZ2h0YXJyb3cgeT1ccG0gNC4KXGVuZHthbGlnbip9CsSQ4bq/biDEkcOieSwgZOG7hSB0aOG6pXkgJGYoMyw0KT5mKC0zLC00KSQgbsOqbiAkXGxlZnQoIDMsNCBccmlnaHQpJCBsw6AgxJFp4buDbSBj4buxYyDEkeG6oWkuCn0KXGVuZHtleH0KClxiZWdpbntleH0KTeG7mXQgZG9hbmggbmdoaeG7h3Agc+G6o24geHXhuqV0IGhhaSBz4bqjbiBwaOG6qW0gY8OzIGjDoG0gY2hpIHBow60gJFRDID0gMlFfMV4yICsgUV8xIFFfMiArIFFfMl4yICsgMjAkLiBHacOhIGLDoW4gbOG6p24gbMaw4bujdCBsw6AgJFBfMSA9IDEwMCwgUF8yID0gODAkLiBN4bupYyBz4bqjbiBsxrDhu6NuZyB04buRaSDGsHUgbMOgClxjaG9pY2UKeyRRXzEgPSAyMCwgUV8yID0gMjAkfQp7JFFfMSA9IDMwLCBRXzIgPSAxMCR9CnskUV8xID0gMjUsIFFfMiA9IDE1JH0Ke1xUcnVlIEEsIEIsIEMgxJHhu4F1IHNhaX0KXGxvaWdpYWl7CkjDoG0gZG9hbmggdGh1ICRSID0gUF8xIFFfMSArIFBfMiBRXzIgPSAxMDAgUV8xICsgODAgUV8yJC4gXFwKSMOgbSBs4bujaSBuaHXhuq1uICRccGkgPSBSIC0gVEMgPSAxMDAgUV8xICsgODAgUV8yIC0gMlFfMV4yIC0gUV8xIFFfMiAtIFFfMl4yIC0gMjAkLiBcXApUw6xtIMSRaeG7g20gZOG7q25nLgpcW1xiZWdpbntjYXNlc30KXGRmcmFje1xwYXJ0aWFsIFxwaX17XHBhcnRpYWwgUV8xfSA9IDEwMCAtIDRRXzEgLSBRXzIgPSAwIFxcClxkZnJhY3tccGFydGlhbCBccGl9e1xwYXJ0aWFsIFFfMn0gPSA4MCAtIFFfMSAtIDJRXzIgPSAwClxlbmR7Y2FzZXN9IFxpZmYgXGJlZ2lue2Nhc2VzfQo0UV8xICsgUV8yID0gMTAwIFxcClFfMSArIDJRXzIgPSA4MApcZW5ke2Nhc2VzfSBcaWZmIFxiZWdpbntjYXNlc30KUV8xPVxkZnJhY3sxMjB9ezd9IFxcClFfMj1cZGZyYWN7MjIwfXs3fQpcZW5ke2Nhc2VzfSBcXSAKS2nhu4NtIHRyYSDEkWnhu4F1IGtp4buHbiBj4buxYyDEkeG6oWkgKMSR4bqhbyBow6BtIHJpw6puZyBj4bqlcCBoYWkpOgokJFxkZnJhY3tccGFydGlhbF4yIFxwaX17XHBhcnRpYWwgUV8xXjJ9ID0gLTQ7IFxkZnJhY3tccGFydGlhbF4yIFxwaX17XHBhcnRpYWwgUV8yXjJ9ID0gLTI7IFxkZnJhY3tccGFydGlhbF4yIFxwaX17XHBhcnRpYWwgUV8xIFxwYXJ0aWFsIFFfMn0gPSAtMSQkCsSQ4buLbmggdGjhu6ljICRcRGVsdGEgPSBcbGVmdChcZGZyYWN7XHBhcnRpYWxeMiBccGl9e1xwYXJ0aWFsIFFfMV4yfVxyaWdodCkgXGxlZnQoIFxkZnJhY3tccGFydGlhbF4yIFxwaX17XHBhcnRpYWwgUV8yXjJ9IFxyaWdodCkgLSBcbGVmdChcZGZyYWN7XHBhcnRpYWxeMiBccGl9e1xwYXJ0aWFsIFFfMSBccGFydGlhbCBRXzJ9IFxyaWdodCleMiA9ICgtNCkoLTIpIC0gKC0xKV4yPSA3JC4gXFwKVsOsICREID0gNyA+IDAkIHbDoCAkXGRmcmFje1xwYXJ0aWFsXjIgXFBpfXtccGFydGlhbCBRXzFeMn0gPSAtNCA8IDAkLCDEkcOieSBsw6AgxJFp4buDbSBj4buxYyDEkeG6oWkuIAp9ClxlbmR7ZXh9CgpcYmVnaW57ZXh9Ck3hu5l0IGPDtG5nIHR5IHPhuqNuIHh14bqldCBt4buZdCBsb+G6oWkgc+G6o24gcGjhuqltIHbhu5tpIGjDoG0gc+G6o24geHXhuqV0IG5oxrAgc2F1OgokJFEgPSBLKEwgKyA1KSQkCkPDtG5nIHR5IG7DoHkgbmjhuq1uIMSRxrDhu6NjIGjhu6NwIMSR4buTbmcgY3VuZyBj4bqlcCA1NjAwIHPhuqNuIHBo4bqpbS4gSMOjeSBjaG8gYmnhur90IHBoxrDGoW5nIMOhbiBz4butIGThu6VuZyBjw6FjIHnhur91IHThu5EgJEssIEwkIHNhbyBjaG8gdmnhu4djIHPhuqNuIHh14bqldCBsxrDhu6NuZyBz4bqjbiBwaOG6qW0gdGhlbyBo4bujcCDEkeG7k25nIHThu5FuIMOtdCBjaGkgcGjDrSBuaOG6pXQsIHRyb25nIMSRaeG7gXUga2nhu4duIGdpw6EgdGh1w6ogdMawIGLhuqNuICR3X3trfSA9IDcwJCB2w6AgZ2nDoSB0aHXDqiBsYW8gxJHhu5luZyAkd197TH0gPSAyMCQuIApcY2hvaWNle1xUcnVlICRLPTQwLEw9MTM1JH17JEs9MzAsIEw9MTQ1JH17JEs9NDUsTD0xMzAkfXskSz0zNSxMPTE0MCR9Clxsb2lnaWFpewpUYSBj4bqnbiB0w6xtIGPhu7FjIHRp4buDdSBj4bunYSBow6BtIENoaSBwaMOtIApcW0MgPSA3MEsrMjBMIFxdCnbhu5tpIMSRaeG7gXUga2nhu4duIHLDoG5nIGJ14buZYyAKJCRRID0gSyhMICsgNSkgPSA1NjAwIFxpZmYgNTYwMCAtIEsoTCArIDUpID0gMCQkClRoaeG6v3QgbOG6rXAgaMOgbSBMYWdyYW5nZSAKJCRcbWF0aGNhbHtMfShLLCBMLCBcbGFtYmRhKSA9IDcwSyArIDIwTCArIFxsYW1iZGEgWzU2MDAgLSBLKEwgKyA1KV0kJApUw6xtIMSRaeG7g20gZOG7q25nIAokJFxiZWdpbntjYXNlc30KXGRmcmFje1xwYXJ0aWFsIFxtYXRoY2Fse0x9fXtccGFydGlhbCBLfSA9IDcwIC0gXGxhbWJkYShMICsgNSkgPSAwIFxcClxkZnJhY3tccGFydGlhbCBcbWF0aGNhbHtMfX17XHBhcnRpYWwgTH0gPSAyMCAtIFxsYW1iZGEgSyA9IDAgXFwKSyhMICsgNSkgPSA1NjAwIApcZW5ke2Nhc2VzfSBcaWZmIFxiZWdpbntjYXNlc30KSz00MCBcXApMPTEzNSBcXCAKXGxhbWJkYSA9IFxkZnJhY3sxfXsyfQpcZW5ke2Nhc2VzfSQkClRhIHTDrW5oIMSR4bqhbyBow6BtIGPhuqVwIDIgY+G7p2EgaMOgbSAkXG1hdGhjYWx7TH0kCiQkXG1hdGhjYWx7TH0nJ197S0t9ID0wOyBccXVhZCBcbWF0aGNhbHtMfScnX3tLTH0gPSAtXGxhbWJkYTsgXHF1YWQgXG1hdGhjYWx7TH0nJ197TEx9ID0gMCQkClZpIHBow6JuIGPhuqVwIDIgCiQkZF4yXG1hdGhjYWx7TH0gPSAtMlxsYW1iZGEgZEtkTCQkClThuqFpIMSRaeG7g20gJE0oNDAsMTM1KSQg4bupbmcgduG7m2kgJFxsYW1iZGEgPSBcZGZyYWN7MX17Mn0kCiQkZF4yIFxtYXRoY2Fse0x9IChNKSA9IC1kS2RMJCQKTOG6pXkgdmkgcGjDom4gMiB24bq/IGPhu6dhIHBoxrDGoW5nIHRyw6xuaCByw6BuZyBideG7mWMgdGEgxJHGsOG7o2MgClxbLShMKzUpZEstS2RMPTAgXGlmZiBkTCA9IFxkZnJhY3stKEwrNSlkS317S309LSBcZGZyYWN7N317Mn1kSy4gXF0KTmjGsCB24bqteSAKXFtkXjIgXG1hdGhjYWx7TH0gKE0pID0gXGRmcmFjezd9ezJ9ZEteMj4wIFxdCkThuqtuIMSR4bq/biBow6BtIHPhu5EgxJHhuqF0IEPhu7FjIHRp4buDdSB04bqhaSAkTSg0MCwxMzUpJC4gR2nDoSB0cuG7iyBj4buxYyB0aeG7g3U6ICRDX3tcbWlufSA9IDU1MDAkLgp9ClxlbmR7ZXh9Cgo=";
const LATEX_CONTENT = decodeURIComponent(escape(window.atob(ENCODED_DATA)));

let quizData=[],currentQIndex=0,userAnswers={},isReviewMode=false,isPracticeMode=false,timerInterval,timeRemaining=CONFIG.time*60;

// --- FORMAT TEXT N√ÇNG CAO (FIX ALIGN & MATRIX) ---
function formatText(str) {
    if (!str) return "";
    const mathBlocks = [];
    function pushBlock(text) { mathBlocks.push(text); return "%%%MATH_BLOCK_" + (mathBlocks.length - 1) + "%%%"; }
    
    // 1. B·∫£o v·ªá c√°c m√¥i tr∆∞·ªùng Math c∆° b·∫£n
    str = str.replace(/(\$\$[\s\S]*?\$\$)|(\$[\s\S]*?\$)|(\\\[[\s\S]*?\\\])/g, pushBlock);
    
    // 2. B·∫¢O V·ªÜ M√îI TR∆Ø·ªúNG LATEX (Smart Loop)
    let currentIndex = 0;
    while (true) {
        let startIdx = str.indexOf("\\begin{", currentIndex);
        if (startIdx === -1) break;
        let braceStart = startIdx + 7;
        let braceEnd = str.indexOf("}", braceStart);
        if (braceEnd === -1) break; 
        let envName = str.substring(braceStart, braceEnd);
        
        if (["enumerate", "itemize", "multicols"].includes(envName)) { 
            currentIndex = braceEnd + 1; continue; 
        }

        let endTag = "\\end{" + envName + "}";
        let endIdx = str.indexOf(endTag, braceEnd);
        
        if (endIdx === -1) { currentIndex = braceEnd + 1; continue; }

        let fullBlock = str.substring(startIdx, endIdx + endTag.length);
        let placeholder = pushBlock(fullBlock);
        str = str.substring(0, startIdx) + placeholder + str.substring(endIdx + endTag.length);
        currentIndex = startIdx + placeholder.length;
    }

    // 3. Format Text
    str = str.replace(/\\begin\{multicols\}\{(\d+)\}/g, "<div style='column-count: $1; column-gap: 40px;'>").replace(/\\end\{multicols\}/g, "</div>");
    str = str.replace(/\\begin\{enumerate\}(\[.*?\])?/g, "<ol style='padding-left:20px; margin: 5px 0'>").replace(/\\end\{enumerate\}/g, "</ol>");
    str = str.replace(/\\begin\{itemize\}/g, "<ul style='padding-left:20px; margin: 5px 0'>").replace(/\\end\{itemize\}/g, "</ul>");
    str = str.replace(/\\item\s*(\[.*?\])?/g, "<li>");
    
    str = str.split("\\\\").join("<br>").split("\\newline").join("<br>");
    
    // Style
    str = str.replace(/\\textbf\{(.*?)\}/g, "<b>$1</b>").replace(/\\textit\{(.*?)\}/g, "<i>$1</i>").replace(/\\underline\{(.*?)\}/g, "<u>$1</u>");
    
    // 4. Tr·∫£ l·∫°i Math & Fix d·∫•u < >
    str = str.replace(/%%%MATH_BLOCK_(\d+)%%%/g, function(match, id) { 
        return mathBlocks[id].replace(/</g, "&lt;").replace(/>/g, "&gt;"); 
    });
    return str;
}

function extractBracedContent(text,startCommand){const startIndex=text.indexOf(startCommand);if(startIndex===-1)return{found:false,content:"",fullMatch:""};let openCount=0,contentStart=-1,foundStart=false;for(let i=startIndex;i<text.length;i++){if(text[i]==='{'){if(!foundStart){contentStart=i+1;foundStart=true}openCount++}else if(text[i]==='}'){openCount--;if(foundStart&&openCount===0)return{found:true,content:text.substring(contentStart,i),fullMatch:text.substring(startIndex,i+1)}}}return{found:false,content:"",fullMatch:""}}
function parseChoicesBlock(rawText){let choices=[],currentIndex=0;while(choices.length<4&&currentIndex<rawText.length){let openIndex=rawText.indexOf('{',currentIndex);if(openIndex===-1)break;let openCount=1,closeIndex=-1;for(let i=openIndex+1;i<rawText.length;i++){if(rawText[i]==='{')openCount++;else if(rawText[i]==='}')openCount--;if(openCount===0){closeIndex=i;break}}if(closeIndex!==-1){choices.push(rawText.substring(openIndex+1,closeIndex));currentIndex=closeIndex+1}else break}return choices}
function parseLatex(text){const questions=[],exBlocks=text.match(/\\begin\{ex\}([\s\S]*?)\\end\{ex\}/g);if(!exBlocks)return[];exBlocks.forEach(block=>{let content=block.replace(/\\begin\{ex\}|\\end\{ex\}/g,"").trim(),explain="";const loigiaiData=extractBracedContent(content,"\\loigiai");if(loigiaiData.found){explain=formatText(loigiaiData.content.trim());content=content.replace(loigiaiData.fullMatch,"")}const parts=content.split(/\\choice/);let questionText=formatText(parts[0].trim());if(parts.length<2)return;const rawChoices=parseChoicesBlock(parts[1]);if(rawChoices.length<4)return;let choices=[],correctChar='a';['a','b','c','d'].forEach((char,i)=>{let c=rawChoices[i].trim();if(c.includes("\\True")){correctChar=char;c=c.replace(/\\True/g,"").trim()}choices.push(formatText(c))});questions.push({q:questionText,a:choices[0],b:choices[1],c:choices[2],d:choices[3],correct:correctChar,explain:explain})});return questions}

function checkLogin(){ try { if(document.getElementById('password-input').value===CONFIG.pass){ document.getElementById('loading-overlay').style.display='flex'; setTimeout(() => { try { quizData=parseLatex(LATEX_CONTENT); if(quizData.length>0){ document.getElementById('login-screen').style.display='none'; document.getElementById('loading-overlay').style.display='none'; document.getElementById('main-app').style.display='flex'; initNavGrid(); loadQuestion(0); startTimer(); } else { throw new Error("Kh√¥ng t√¨m th·∫•y c√¢u h·ªèi"); } } catch(e) { document.getElementById('loading-overlay').style.display='none'; alert("L·ªói: "+e.message); } }, 500); } else { document.getElementById('login-error').style.display='block'; } } catch(e) { alert(e); } }
function startTimer(){updateTimerDisplay();timerInterval=setInterval(()=>{timeRemaining--;updateTimerDisplay();if(timeRemaining<=0){clearInterval(timerInterval);alert("H·∫øt gi·ªù!");finishQuiz(true)}},1000)}
function updateTimerDisplay(){const m=Math.floor(timeRemaining/60).toString().padStart(2,'0'),s=(timeRemaining%60).toString().padStart(2,'0');document.getElementById('timer').innerText=m+":"+s}
function initNavGrid(){const grid=document.getElementById('nav-grid');grid.innerHTML='';quizData.forEach((_,idx)=>{const btn=document.createElement('div');btn.className='q-btn';btn.innerText=idx+1;btn.id='nav-'+idx;btn.onclick=()=>loadQuestion(idx);grid.appendChild(btn)})}
function loadQuestion(index){currentQIndex=index;const data=quizData[index];document.querySelectorAll('.q-btn').forEach(b=>b.classList.remove('active'));document.getElementById('nav-'+index).classList.add('active');document.getElementById('q-number').innerText="C√¢u "+(index+1)+"/"+quizData.length;document.getElementById('q-content').innerHTML=data.q;const optionsArea=document.getElementById('options-area');optionsArea.innerHTML='';const userAnswer=userAnswers[index],showResultNow=isReviewMode||(isPracticeMode&&userAnswer);['a','b','c','d'].forEach(key=>{const label=document.createElement('label');label.className='option-label';if(showResultNow){label.style.pointerEvents='none';if(data.correct===key)label.classList.add('is-correct');if(userAnswer===key&&key!==data.correct)label.classList.add('is-wrong')}else{label.onclick=()=>selectOption(key)}if(!showResultNow&&userAnswer===key)label.classList.add('selected');label.innerHTML='<input type="radio" name="opt" '+(userAnswer===key?'checked':'')+'> <div style="width:100%">'+data[key]+'</div>';optionsArea.appendChild(label)});const explainBox=document.getElementById('explanation');if(showResultNow){document.getElementById('explain-text').innerHTML=data.explain||"Kh√¥ng c√≥ l·ªùi gi·∫£i.";explainBox.style.display='block'}else{explainBox.style.display='none'} if(window.MathJax)setTimeout(()=>MathJax.typesetPromise([document.getElementById('quiz-container-div')]),50);}
function selectOption(val){if(isReviewMode)return;userAnswers[currentQIndex]=val;document.getElementById('nav-'+currentQIndex).classList.add('answered');if(isPracticeMode)loadQuestion(currentQIndex);else{document.querySelectorAll('.option-label').forEach(l=>l.classList.remove('selected'));event.currentTarget.classList.add('selected');event.currentTarget.querySelector('input').checked=true}}
function togglePracticeMode(){isPracticeMode=document.getElementById('practice-mode').checked;loadQuestion(currentQIndex)}
function nextQuestion(){if(currentQIndex<quizData.length-1)loadQuestion(currentQIndex+1)}
function prevQuestion(){if(currentQIndex>0)loadQuestion(currentQIndex-1)}
function finishQuiz(force=false){if(!force&&!confirm("N·ªôp b√†i?"))return;clearInterval(timerInterval);isReviewMode=true;isPracticeMode=false;document.getElementById('practice-mode').disabled=true;let score=0;quizData.forEach((q,idx)=>{const btn=document.getElementById('nav-'+idx);btn.classList.remove('active');btn.classList.remove('answered');if(userAnswers[idx]===q.correct){score++;btn.classList.add('correct')}else{btn.classList.add('wrong')}});document.getElementById('quiz-area').style.display='none';document.getElementById('result-area').style.display='block';document.getElementById('btn-finish').style.display='none';document.getElementById('final-score').innerText=score+"/"+quizData.length}
function reviewMode(){document.getElementById('result-area').style.display='none';document.getElementById('quiz-area').style.display='block';loadQuestion(0)}
document.addEventListener('contextmenu',e=>e.preventDefault());document.onkeydown=function(e){if(e.keyCode==123||(e.ctrlKey&&e.shiftKey&&(e.keyCode=='I'.charCodeAt(0)||e.keyCode=='C'.charCodeAt(0)||e.keyCode=='J'.charCodeAt(0)))||(e.ctrlKey&&e.keyCode=='U'.charCodeAt(0)))return false};
</script>
</body>
</html>
